<div class="mainDiv">
  <div class="characterList">
    <div class="character" *ngFor="let character of characters" (click)="select(character)"
         [class.selected]="character.id == currentCharacter.id">
      {{character.name}}
    </div>
  </div>
  <div class="characterEditor">
    <div class="topRow">
      <button (click)="newCharacter()">Create new</button>
      <button (click)="save()">Save</button>
      <button (click)="deleteCharacter()">Delete</button>
      <label>
        <input type="text" [(ngModel)]="currentCharacter.name">
      </label>
      <span *ngIf="currentCharacter.id >= 0">Editing id {{currentCharacter.id}}</span>
      <span *ngIf="currentCharacter.id < 0">Creating new character</span>
    </div>
    <div class="attributePane">
      <app-number-attribute *ngFor="let attr of characterAttributes" [label]="attr.label">
        <input type="number" [(ngModel)]="currentCharacter[attr.attribute]">
      </app-number-attribute>
      <app-number-attribute label="Armor Class">
        <input type="number" [ngModel]="currentCharacter.calculateArmorClass()" disabled>
      </app-number-attribute>
      <app-number-attribute label="Touch">
        <input type="number" [ngModel]="currentCharacter.calculateTouch()" disabled>
      </app-number-attribute>
      <app-number-attribute label="On the wrong foot">
        <input type="number" [ngModel]="currentCharacter.calculateWrongFoot()" disabled>
      </app-number-attribute>
      <app-number-attribute label="Initiative">
        <input type="number" [ngModel]="currentCharacter.calculateInitiative()" disabled>
      </app-number-attribute>
    </div>
  </div>
</div>
